{% extends 'base.html' %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/contests.css') }}">
{% endblock %}

{% block content %}
{% include 'navbarAdmin.html' %}

<div class="contests-container">
    <header>
        <h1>Edit Contest: {{ contest.name }}</h1>
    </header>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="flash {{ category }}">{{ message }}</div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <form action="{{ url_for('main.update_contest_rules', contest_id=contest.id) }}" method="POST" class="create-contest-form">
        <label for="contest_name">Contest Name</label>
        <input type="text" name="contest_name" id="contest_name" value="{{ contest.name }}" required>
        <label for="rules">Contest Rules</label>
        <textarea name="rules" rows="10" placeholder="Enter contest rules (one per line)" required>{{ contest.rules | default('') }}</textarea>
        <label for="end_date">End Date</label>
        <input type="date" name="end_date" id="end_date" value="{{ contest.end_date.strftime('%Y-%m-%d') if contest.end_date else '' }}" required>
        <button type="submit" class="submit-btn">Save Changes</button>
    </form>

    <div class="action-buttons">
        <a href="{{ url_for('main.concurso') }}">
            <button class="back-btn">Back</button>
        </a>
    </div>
</div>
{% endblock %}